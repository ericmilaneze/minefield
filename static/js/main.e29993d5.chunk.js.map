{"version":3,"sources":["Modal/index.js","minefield-game/levels.js","minefield-game/row.js","minefield-game/square.js","minefield-game/minefield.js","Minefield/index.js","App.js","index.js"],"names":["Modal","show","children","createPortal","className","document","body","name","rows","columns","bombs","bisque","row","minefield","rowIndex","this","squares","square","squareIndexInMinefield","setRow","push","columnIndex","find","s","address","squareIndexInRow","r","length","hasBomb","showingResult","hasFlag","currRow","rowAbove","getRowAbove","rowBelow","getRowBelow","currColumnNumber","leftColumnNumber","rightColumnNumber","neighbors","getSquareFromColumn","filter","n","getNeighbors","getNeighborsWithBombs","isFinished","level","getLastRecord","storeRecord","squaresWithBombs","hasStarted","lose","win","qtyFlagsMissing","qtyFieldsToExplore","isEven","forEach","neighbor","lastRecord","elapsedSeconds","getElapsedSeconds","finishGame","saveRecord","finishTime","Date","startTime","Math","floor","_distributeBombs","startGame","loseGame","winGame","getNumberOfNeighborsWithBombs","explodeSquaresAround","toggleFlag","chosenSquare","currNumberOfBombs","randomNumber","random","candidateSquare","_isNeighborOrSelf","putBomb","currentSquare","i","addSquare","levelName","mf","levels","x","_createRow","j","_createSquare","Minefield","useState","game","setGame","version","setVersion","setLevelName","setElapsedSeconds","record","localStorage","setItem","getRecord","getItem","restart","newGame","createMinefield","useEffect","interval","setInterval","clearInterval","onClick","onChange","evt","changeLevel","target","value","map","key","shouldPaintAsEven","toLowerCase","squareClick","onContextMenu","preventDefault","squareRightClick","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"gTAKe,SAASA,EAAT,GAAoC,IAAnBC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,SAClC,OACI,oCACKC,uBACG,yBACIC,UAAS,mEAEHH,EAAO,UAAY,GAFhB,2BAKT,yBACIG,UAAS,mFAEHH,EAAO,UAAY,GAFhB,+BAKRC,IAGTG,SAASC,O,kBCxBV,GACX,CACIC,KAAM,SACNC,KAAM,GACNC,QAAS,GACTC,MAAO,GACPC,QAAQ,GAEZ,CACIJ,KAAM,OACNC,KAAM,GACNC,QAAS,EACTC,MAAO,GACPC,QAAQ,GAEZ,CACIJ,KAAM,OACNC,KAAM,GACNC,QAAS,GACTC,MAAO,GACPC,QAAQ,ICpBKC,E,WACjB,WAAYC,EAAWC,GAAW,oBAC9BC,KAAKF,UAAYA,EACjBE,KAAKD,SAAWA,EAChBC,KAAKC,QAAU,G,qDAIf,OAAOD,KAAKD,SAAW,IAAM,I,gCAGvBG,EAAQC,GACdD,EAAOE,OAAOJ,KAAMG,GACpBH,KAAKC,QAAQI,KAAKH,K,0CAGFI,GAChB,OAAON,KAAKC,QAAQM,MAAK,SAAAC,GAAC,OAAIA,EAAEC,QAAQC,mBAAqBJ,O,oCAGlD,IAAD,OACV,OAAIN,KAAKD,UAAY,EACV,KAGJC,KAAKF,UAAUL,KAAKc,MAAK,SAAAI,GAAC,OAAIA,EAAEZ,WAAa,EAAKA,SAAW,O,oCAGzD,IAAD,OACV,OAAIC,KAAKD,UAAYC,KAAKF,UAAUL,KAAKmB,OAAS,EACvC,KAGJZ,KAAKF,UAAUL,KAAKc,MAAK,SAAAI,GAAC,OAAIA,EAAEZ,WAAa,EAAKA,SAAW,S,KCjCvDG,E,WACjB,WAAYL,GAAM,oBACdG,KAAKH,IAAMA,EACXG,KAAKa,SAAU,EACfb,KAAKc,eAAgB,EACrBd,KAAKe,SAAU,E,mDAGZlB,EAAKM,GACRH,KAAKH,IAAMA,EACXG,KAAKS,QAAU,CACXV,SAAUF,EAAIE,SACdW,iBAAkBb,EAAII,QAAQW,OAC9BT,4B,qCAKJ,IAAMa,EAAUhB,KAAKH,IACfoB,EAAWjB,KAAKH,IAAIqB,cACpBC,EAAWnB,KAAKH,IAAIuB,cAEpBC,EAAmBrB,KAAKS,QAAQC,iBAChCY,EAAmBD,EAAmB,EACtCE,EAAoBF,EAAmB,EAEvCG,EAAY,GAiBlB,OAfIP,IACAO,EAAUnB,KAAKY,EAASQ,oBAAoBH,IAC5CE,EAAUnB,KAAKY,EAASQ,oBAAoBJ,IAC5CG,EAAUnB,KAAKY,EAASQ,oBAAoBF,KAGhDC,EAAUnB,KAAKW,EAAQS,oBAAoBH,IAC3CE,EAAUnB,KAAKW,EAAQS,oBAAoBF,IAEvCJ,IACAK,EAAUnB,KAAKc,EAASM,oBAAoBH,IAC5CE,EAAUnB,KAAKc,EAASM,oBAAoBJ,IAC5CG,EAAUnB,KAAKc,EAASM,oBAAoBF,KAGzCC,EAAUE,QAAO,SAAAC,GAAC,OAAIA,O,8CAM7B,OAFkB3B,KAAK4B,eAENF,QAAO,SAAAC,GAAC,OAAIA,EAAEd,a,sDAM/B,OAFkBb,KAAK6B,wBAENjB,S,6BAIZV,EAAOa,SAAYf,KAAKc,gBACzBd,KAAKc,eAAgB,K,+BAKzB,OAAOd,KAAKS,QAAQN,uBAAyB,IAAM,I,mCAInDH,KAAKe,SAAWf,KAAKe,UAAYf,KAAKc,gBAAkBd,KAAKH,IAAIC,UAAUgC,a,gCAI3E9B,KAAKa,SAAU,M,KCrEFf,E,WACjB,WAAYiC,EAAOC,EAAeC,GAAc,oBAC5CjC,KAAK+B,MAAQA,EACb/B,KAAKP,KAAO,GACZO,KAAKC,QAAU,GACfD,KAAKkC,iBAAmB,GACxBlC,KAAKmC,YAAa,EAClBnC,KAAK8B,YAAa,EAClB9B,KAAKoC,MAAO,EACZpC,KAAKqC,KAAM,EACXrC,KAAKsC,gBAAkBP,EAAMpC,MAC7BK,KAAKuC,mBAAqB,EAC1BvC,KAAKgC,cAAgBA,EACrBhC,KAAKiC,YAAcA,E,8DAmBL/B,GACd,IAAMsC,EAAStC,EAAOsC,SAGtB,OAF8BxC,KAAK+B,MAAMrC,QAAU,IAAM,IAE3BQ,EAAOL,IAAI2C,UAC7BA,EAGLA,I,2CAGUtC,GAAS,IAAD,OACPA,EAAO0B,eAEfa,SAAQ,SAAAC,GACd,EAAKxD,KAAKwD,Q,mCAKd,GAAI1C,KAAKgC,eAAiBhC,KAAKiC,YAAa,CACxC,IAAMU,EAAa3C,KAAKgC,gBAClBY,EAAiB5C,KAAK6C,sBAEvBF,GAAcC,EAAiBD,IAChC3C,KAAKiC,YAAYW,M,gCAMzB5C,KAAK8C,aACL9C,KAAK+C,aACL/C,KAAKqC,KAAM,I,iCAIXrC,KAAK8C,aACL9C,KAAKoC,MAAO,I,mCAIZpC,KAAK8B,YAAa,EAClB9B,KAAKgD,WAAa,IAAIC,O,kCAItBjD,KAAKmC,YAAa,EAClBnC,KAAKkD,UAAY,IAAID,O,0CAIrB,OAAKjD,KAAKmC,WAINnC,KAAK8B,WACEqB,KAAKC,OAAOpD,KAAKgD,WAAahD,KAAKkD,WAAa,KAGpDC,KAAKC,OAAO,IAAIH,KAASjD,KAAKkD,WAAa,KAPvC,I,2BAUVhD,GACIF,KAAK8B,YAAe5B,EAAOa,SAAYb,EAAOY,gBAC1Cd,KAAKmC,aACNnC,KAAKqD,iBAAiBnD,GACtBF,KAAKsD,aAGTpD,EAAOhB,OAEHgB,EAAOW,QACPb,KAAKuD,YAELvD,KAAKuC,qBAE2B,IAA5BvC,KAAKuC,oBACLvC,KAAKwD,WAIkC,IAA3CtD,EAAOuD,iCACPzD,KAAK0D,qBAAqBxD,M,iCAK3BA,GACFA,EAAOY,eAAkBd,KAAK8B,aAC/B5B,EAAOyD,aAEHzD,EAAOa,QACPf,KAAKsC,kBAELtC,KAAKsC,qB,uCAKAsB,GAGb,IAFA,IAAIC,EAAoB,EAEjBA,EAAoB7D,KAAK+B,MAAMpC,OAAO,CACzC,IAAMmE,EAAeX,KAAKC,MAAMD,KAAKY,SAAW/D,KAAKC,QAAQW,QACvDoD,EAAkBhE,KAAKC,QAAQ6D,GAEjC9D,KAAK+B,MAAMnC,QAAUI,KAAKiE,kBAAkBD,EAAiBJ,KAI5DI,EAAgBnD,UACjBmD,EAAgBE,UAChBlE,KAAKkC,iBAAiB7B,KAAK2D,GAC3BH,IACA7D,KAAKuC,0B,wCAKC4B,EAAeP,GAC7B,IAAKA,EACD,OAAO,EAGX,GAAIO,IAAkBP,EAClB,OAAO,EAKX,IAFA,IAAMpC,EAAYoC,EAAahC,eAEtBwC,EAAI,EAAGA,EAAI5C,EAAUZ,OAAQwD,IAClC,GAAID,IAAkB3C,EAAU4C,GAC5B,OAAO,EAIf,OAAO,I,iCAGArE,GACP,IAAMY,EAAI,IAAId,EAAIG,KAAMD,GAIxB,OAFAC,KAAKP,KAAKY,KAAKM,GAERA,I,oCAGGd,GACV,IAAMW,EAAI,IAAIN,EAAOL,GAOrB,OALAA,EAAIwE,UAAU7D,EAAGR,KAAKC,QAAQW,QAE9BZ,KAAKC,QAAQI,KAAKG,GAClBR,KAAKuC,qBAEE/B,K,uCA5KY8D,EAAWtC,EAAeC,GAK7C,IAJA,IAEMsC,EAAK,IAAIzE,EAFD0E,EAAOjE,MAAK,SAAAkE,GAAC,OAAIA,EAAEjF,OAAS8E,KAEVtC,EAAeC,GAEtCmC,EAAI,EAAGA,EAAIG,EAAGxC,MAAMtC,KAAM2E,IAG/B,IAFA,IAAMvE,EAAM0E,EAAGG,WAAWN,GAEjBO,EAAI,EAAGA,EAAIJ,EAAGxC,MAAMrC,QAASiF,IAClCJ,EAAGK,cAAc/E,GAIzB,OAAO0E,M,WCrBA,SAASM,IAAa,IAAD,EACRC,mBAAS,IADD,mBACzBC,EADyB,KACnBC,EADmB,OAEFF,mBAAS,GAFP,mBAEzBG,EAFyB,KAEhBC,EAFgB,OAGEJ,mBAASN,EAAO,GAAGhF,MAHrB,mBAGzB8E,EAHyB,KAGda,EAHc,OAIYL,mBAAS,GAJrB,mBAIzBlC,EAJyB,KAITwC,EAJS,KAsBhC,SAASnD,EAAYoD,GACjBC,aAAaC,QAAQ,SAAUF,GAGnC,SAASG,IACL,OAAOF,aAAaG,QAAQ,UAGhC,SAASC,IACL,IAAMC,EAAU7F,EAAU8F,gBAAgBtB,EAAWkB,EAAWvD,GAChE+C,EAAQW,GACRT,EAAWD,EAAU,GAoBzB,OA/CAY,qBAAU,WACN,IAAMF,EAAU7F,EAAU8F,gBAAgBtB,EAAWkB,EAAWvD,GAEhE+C,EAAQW,KACT,CAACrB,IAEJuB,qBAAU,WACN,IAAMC,EAAWC,aAAY,WACrBhB,GACAK,EAAkBL,EAAKlC,uBAE5B,KAEH,OAAO,kBAAMmD,cAAcF,MAC5B,CAACf,IAkCA,6BAAS1F,UAAU,gBACf,kBAAC,EAAD,CAAOH,KAAM6F,EAAK1C,KACd,yBAAKhD,UAAU,qBACX,uCACA,yBAAKA,UAAU,OACX,yBAAKA,UAAU,UACX,yBAAKA,UAAU,YACX,yBAAKA,UAAU,UAAS,kBAAC,IAAD,OACxB,yBAAKA,UAAU,UAAS,kBAAC,IAAD,OACxB,yBAAKA,UAAU,UAAS,kBAAC,IAAD,OACxB,yBAAKA,UAAU,UAAS,kBAAC,IAAD,QAE5B,yBAAKA,UAAU,WAAWmG,IAA1B,YACA,yBAAKnG,UAAU,YACX,yBAAKA,UAAU,UAAS,kBAAC,IAAD,OACxB,yBAAKA,UAAU,UAAS,kBAAC,IAAD,OACxB,yBAAKA,UAAU,UAAS,kBAAC,IAAD,OACxB,yBAAKA,UAAU,UAAS,kBAAC,IAAD,UAIpC,yBAAKA,UAAU,OACX,4BACI4G,QAASP,GAET,kBAAC,IAAD,UAKhB,kBAAC,EAAD,CAAOxG,KAAM6F,EAAK3C,MACd,yBAAK/C,UAAU,sBACX,wCACA,yBAAKA,UAAU,OACX,4BACI4G,QAASP,GAET,kBAAC,IAAD,UAMhB,yBAAKrG,UAAU,QACX,yBAAKA,UAAU,UACX,6BACI,yBAAKA,UAAU,QAAO,kBAAC,IAAD,MAAtB,IAAkC0F,EAAKzC,iBAEvC,4BACI4D,SAAU,SAACC,GAAD,OAtDlC,SAAqB7B,GACjBa,EAAab,GAqD0B8B,CAAYD,EAAIE,OAAOC,SAEzC9B,EAAO+B,KAAI,SAACxE,GAAD,OACR,4BAAQuE,MAAOvE,EAAMvC,KAAMgH,IAAKzE,EAAMvC,MAAOuC,EAAMvC,WAK/D,6BACI,yBAAKH,UAAU,kBAAkBuD,EAAiB,GAAKA,KAG/D,yBAAKvD,UAAU,QACV0F,EAAKtF,MAAQsF,EAAKtF,KAAK8G,KAAI,SAAA1G,GAAG,OAC3B,yBACI2G,IAAK3G,EAAIE,SACTV,UAAU,cAETQ,EAAII,QAAQsG,KAAI,SAAArG,GAAM,OACnB,yBACIsG,IAAKtG,EAAOO,QAAQN,uBACpBd,UAAS,qGAEH0F,EAAK0B,kBAAkBvG,GAAU,OAAS,MAFvC,qDAGHA,EAAOY,cAAgB,UAAY,cAHhC,qDAIHwD,GAAaA,EAAUoC,cAJpB,0CAMTT,QAAS,kBA9FzC,SAAqB/F,GACjB6E,EAAK7F,KAAKgB,GACV8E,EAAQD,GACRG,EAAWD,EAAU,GA2FsB0B,CAAYzG,IAC3B0G,cAAe,SAAAT,GAAG,OAzFlD,SAA0BA,EAAKjG,GAC3BiG,EAAIU,iBACJ9B,EAAKpB,WAAWzD,GAChB8E,EAAQD,GACRG,EAAWD,EAAU,GAqF6B6B,CAAiBX,EAAKjG,KAE3CA,EAAOY,gBAAkBZ,EAAOW,SAAsD,IAA3CX,EAAOuD,iCAAyCvD,EAAOuD,gCAClGvD,EAAOY,eAAiBZ,EAAOW,SAAW,kBAAC,IAAD,MAC1CX,EAAOa,SAAW,kBAAC,IAAD,iB,MCrIxCgG,MARf,WACE,OACE,6BAAS1H,UAAU,gBACjB,kBAAC,EAAD,QCHN2H,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEF5H,SAAS6H,eAAe,W","file":"static/js/main.e29993d5.chunk.js","sourcesContent":["import React from 'react';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nexport default function Modal({ show, children }) {\n    return (\n        <>\n            {createPortal(\n                <div \n                    className={`\n                        modal\n                        ${show ? 'showing' : ''}\n                    `}\n                >\n                    <div \n                        className={`\n                            modal-content\n                            ${show ? 'showing' : ''}\n                        `}\n                    >\n                        {children}\n                    </div>\n                </div>,\n                document.body)\n            }\n        </>\n    );\n}\n","export default [\n    {\n        name: 'Medium',\n        rows: 20,\n        columns: 10,\n        bombs: 35,\n        bisque: true // lambuja\n    },\n    {\n        name: 'Easy',\n        rows: 12,\n        columns: 6,\n        bombs: 10,\n        bisque: true // lambuja\n    },\n    {\n        name: 'Hard',\n        rows: 28,\n        columns: 13,\n        bombs: 75,\n        bisque: true // lambuja\n    }\n];\n","export default class row {\n    constructor(minefield, rowIndex) {\n        this.minefield = minefield;\n        this.rowIndex = rowIndex;\n        this.squares = [];\n    }\n\n    isEven() {\n        return this.rowIndex % 2 === 0;\n    }\n\n    addSquare(square, squareIndexInMinefield) {\n        square.setRow(this, squareIndexInMinefield);\n        this.squares.push(square);\n    }\n\n    getSquareFromColumn(columnIndex) {\n        return this.squares.find(s => s.address.squareIndexInRow === columnIndex);\n    }\n\n    getRowAbove() {\n        if (this.rowIndex <= 0) {\n            return null;\n        }\n\n        return this.minefield.rows.find(r => r.rowIndex === this.rowIndex - 1);\n    }\n\n    getRowBelow() {\n        if (this.rowIndex >= this.minefield.rows.length - 1) {\n            return null;\n        }\n\n        return this.minefield.rows.find(r => r.rowIndex === this.rowIndex + 1);\n    }\n}\n","export default class square {\n    constructor(row) {\n        this.row = row;\n        this.hasBomb = false;\n        this.showingResult = false;\n        this.hasFlag = false;\n    }\n\n    setRow(row, squareIndexInMinefield) {\n        this.row = row;\n        this.address = {\n            rowIndex: row.rowIndex,\n            squareIndexInRow: row.squares.length,\n            squareIndexInMinefield\n        };\n    }\n\n    getNeighbors() {\n        const currRow = this.row;\n        const rowAbove = this.row.getRowAbove();\n        const rowBelow = this.row.getRowBelow();\n\n        const currColumnNumber = this.address.squareIndexInRow;\n        const leftColumnNumber = currColumnNumber - 1;\n        const rightColumnNumber = currColumnNumber + 1;\n\n        const neighbors = [];\n\n        if (rowAbove) {\n            neighbors.push(rowAbove.getSquareFromColumn(leftColumnNumber));\n            neighbors.push(rowAbove.getSquareFromColumn(currColumnNumber));\n            neighbors.push(rowAbove.getSquareFromColumn(rightColumnNumber));\n        }\n\n        neighbors.push(currRow.getSquareFromColumn(leftColumnNumber));\n        neighbors.push(currRow.getSquareFromColumn(rightColumnNumber));\n\n        if (rowBelow) {\n            neighbors.push(rowBelow.getSquareFromColumn(leftColumnNumber));\n            neighbors.push(rowBelow.getSquareFromColumn(currColumnNumber));\n            neighbors.push(rowBelow.getSquareFromColumn(rightColumnNumber));\n        }\n\n        return neighbors.filter(n => n);\n    }\n\n    getNeighborsWithBombs() {\n        const neighbors = this.getNeighbors();\n\n        return neighbors.filter(n => n.hasBomb);\n    }\n\n    getNumberOfNeighborsWithBombs() {\n        const neighbors = this.getNeighborsWithBombs();\n\n        return neighbors.length;\n    }\n\n    show() {\n        if (!square.hasFlag && !this.showingResult) {\n            this.showingResult = true;\n        }\n    }\n\n    isEven() {\n        return this.address.squareIndexInMinefield % 2 === 0;\n    }\n\n    toggleFlag() {\n        this.hasFlag = !this.hasFlag && !this.showingResult && !this.row.minefield.isFinished;\n    }\n\n    putBomb() {\n        this.hasBomb = true;\n    }\n}\n","import levels from './levels';\nimport row from './row';\nimport square from './square';\n\nexport default class minefield {\n    constructor(level, getLastRecord, storeRecord) {\n        this.level = level;\n        this.rows = [];\n        this.squares = [];\n        this.squaresWithBombs = [];\n        this.hasStarted = false;\n        this.isFinished = false;\n        this.lose = false;\n        this.win = false;\n        this.qtyFlagsMissing = level.bombs;\n        this.qtyFieldsToExplore = 0;\n        this.getLastRecord = getLastRecord;\n        this.storeRecord = storeRecord;\n    }\n\n    static createMinefield(levelName, getLastRecord, storeRecord) {\n        const level = levels.find(x => x.name === levelName);\n\n        const mf = new minefield(level, getLastRecord, storeRecord);\n\n        for (let i = 0; i < mf.level.rows; i++) {\n            const row = mf._createRow(i);\n\n            for (let j = 0; j < mf.level.columns; j++) {\n                mf._createSquare(row);\n            }\n        }\n\n        return mf;\n    }\n\n    shouldPaintAsEven(square) {\n        const isEven = square.isEven();\n        const isNumberOfColumnsEven = this.level.columns % 2 === 0;\n\n        if (isNumberOfColumnsEven && !square.row.isEven()) {\n            return !isEven;\n        }\n\n        return isEven;\n    }\n\n    explodeSquaresAround(square) {\n        const neighbors = square.getNeighbors();\n\n        neighbors.forEach(neighbor => {\n            this.show(neighbor);\n        });\n    }\n\n    saveRecord() {\n        if (this.getLastRecord && this.storeRecord) {\n            const lastRecord = this.getLastRecord();\n            const elapsedSeconds = this.getElapsedSeconds();\n\n            if (!lastRecord || elapsedSeconds < lastRecord) {\n                this.storeRecord(elapsedSeconds);\n            }\n        }\n    }\n\n    winGame() {\n        this.finishGame();\n        this.saveRecord();\n        this.win = true;\n    }\n\n    loseGame() {\n        this.finishGame();\n        this.lose = true;\n    }\n\n    finishGame() {\n        this.isFinished = true;\n        this.finishTime = new Date();\n    }\n\n    startGame() {\n        this.hasStarted = true;\n        this.startTime = new Date();\n    }\n\n    getElapsedSeconds() {\n        if (!this.hasStarted) {\n            return 0;\n        }\n\n        if (this.isFinished) {\n            return Math.floor((this.finishTime - this.startTime) / 1000);\n        }\n\n        return Math.floor((new Date() - this.startTime) / 1000);\n    }\n\n    show(square) {\n        if (!this.isFinished && !square.hasFlag && !square.showingResult) {\n            if (!this.hasStarted) {\n                this._distributeBombs(square);\n                this.startGame();\n            }\n\n            square.show();\n\n            if (square.hasBomb) {\n                this.loseGame();\n            } else {\n                this.qtyFieldsToExplore--;\n\n                if (this.qtyFieldsToExplore === 0) {\n                    this.winGame();\n                }\n            }\n\n            if (square.getNumberOfNeighborsWithBombs() === 0) {\n                this.explodeSquaresAround(square);\n            }\n        }\n    }\n\n    toggleFlag(square) {\n        if (!square.showingResult && !this.isFinished) {\n            square.toggleFlag();\n\n            if (square.hasFlag) {\n                this.qtyFlagsMissing--;\n            } else {\n                this.qtyFlagsMissing++;\n            }\n        }\n    }\n\n    _distributeBombs(chosenSquare) {\n        let currNumberOfBombs = 0;\n\n        while (currNumberOfBombs < this.level.bombs) {\n            const randomNumber = Math.floor(Math.random() * this.squares.length);\n            const candidateSquare = this.squares[randomNumber];\n            \n            if (this.level.bisque && this._isNeighborOrSelf(candidateSquare, chosenSquare)) {\n                continue;\n            }\n            \n            if (!candidateSquare.hasBomb) {\n                candidateSquare.putBomb();\n                this.squaresWithBombs.push(candidateSquare);\n                currNumberOfBombs++;\n                this.qtyFieldsToExplore--;\n            }\n        }\n    }\n\n    _isNeighborOrSelf(currentSquare, chosenSquare) {\n        if (!chosenSquare) {\n            return false;\n        }\n\n        if (currentSquare === chosenSquare) {\n            return true;\n        }\n\n        const neighbors = chosenSquare.getNeighbors();\n\n        for (let i = 0; i < neighbors.length; i++) {\n            if (currentSquare === neighbors[i]) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    _createRow(rowIndex) {\n        const r = new row(this, rowIndex);\n\n        this.rows.push(r);\n\n        return r;\n    }\n\n    _createSquare(row) {\n        const s = new square(row);\n\n        row.addSquare(s, this.squares.length);\n\n        this.squares.push(s);\n        this.qtyFieldsToExplore++;\n\n        return s;\n    }\n};","import React, { useState, useEffect } from 'react';\nimport { FiFlag } from \"react-icons/fi\";\nimport { FaBomb, FaTrophy } from \"react-icons/fa\";\nimport { MdCached } from 'react-icons/md';\n\nimport Modal from '../Modal';\n\nimport minefield from '../minefield-game/minefield';\nimport levels from '../minefield-game/levels';\n\nimport './index.scss';\n\nexport default function Minefield() {\n    const [game, setGame] = useState({});\n    const [version, setVersion] = useState(0);\n    const [levelName, setLevelName] = useState(levels[0].name);\n    const [elapsedSeconds, setElapsedSeconds] = useState(0);\n\n    useEffect(() => {\n        const newGame = minefield.createMinefield(levelName, getRecord, storeRecord);\n        \n        setGame(newGame);\n    }, [levelName]);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            if (game) {\n                setElapsedSeconds(game.getElapsedSeconds());\n            }\n        }, 100);\n\n        return () => clearInterval(interval);\n    }, [game]);\n\n    function storeRecord(record) {\n        localStorage.setItem('record', record);\n    }\n\n    function getRecord() {\n        return localStorage.getItem('record');\n    }\n\n    function restart() {\n        const newGame = minefield.createMinefield(levelName, getRecord, storeRecord);\n        setGame(newGame);\n        setVersion(version + 1);\n    }\n\n    function squareClick(square) {\n        game.show(square);\n        setGame(game);\n        setVersion(version + 1);\n    }\n\n    function squareRightClick(evt, square) {\n        evt.preventDefault();\n        game.toggleFlag(square);\n        setGame(game);\n        setVersion(version + 1);\n    }\n\n    function changeLevel(levelName) {\n        setLevelName(levelName);\n    }\n\n    return (\n        <section className=\"campo-minado\">\n            <Modal show={game.win}>\n                <div className=\"modal-endgame win\">\n                    <p>You win!</p>\n                    <div className=\"row\">\n                        <div className=\"record\">\n                            <div className=\"trophies\">\n                                <div className=\"trophy\"><FaTrophy /></div>\n                                <div className=\"trophy\"><FaTrophy /></div>\n                                <div className=\"trophy\"><FaTrophy /></div>\n                                <div className=\"trophy\"><FaTrophy /></div>\n                            </div>\n                            <div className=\"seconds\">{getRecord()} seconds</div>\n                            <div className=\"trophies\">\n                                <div className=\"trophy\"><FaTrophy /></div>\n                                <div className=\"trophy\"><FaTrophy /></div>\n                                <div className=\"trophy\"><FaTrophy /></div>\n                                <div className=\"trophy\"><FaTrophy /></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <button\n                            onClick={restart}\n                        >\n                            <MdCached />\n                        </button>\n                    </div>\n                </div>\n            </Modal>\n            <Modal show={game.lose}>\n                <div className=\"modal-endgame lose\">\n                    <p>You lose!</p>\n                    <div className=\"row\">\n                        <button\n                            onClick={restart}\n                        >\n                            <MdCached />\n                        </button>\n                    </div>\n                </div>\n            </Modal>\n\n            <div className=\"game\">\n                <div className=\"config\">\n                    <div>\n                        <div className=\"flag\"><FiFlag /> {game.qtyFlagsMissing}</div>\n\n                        <select \n                            onChange={(evt) => changeLevel(evt.target.value)}\n                        >\n                            {levels.map((level) => (\n                                <option value={level.name} key={level.name}>{level.name}</option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <div>\n                        <div className=\"elapsedSeconds\">{elapsedSeconds > 0 && elapsedSeconds}</div>\n                    </div>\n                </div>\n                <div className=\"main\">\n                    {game.rows && game.rows.map(row => (\n                        <div \n                            key={row.rowIndex}\n                            className=\"square-row\"\n                        >\n                            {row.squares.map(square => (\n                                <div \n                                    key={square.address.squareIndexInMinefield}\n                                    className={`\n                                        square \n                                        ${game.shouldPaintAsEven(square) ? 'even' : 'odd'}\n                                        ${square.showingResult ? 'showing' : 'not-showing'}\n                                        ${levelName && levelName.toLowerCase()}\n                                    `}\n                                    onClick={() => squareClick(square)}\n                                    onContextMenu={evt => squareRightClick(evt, square)}\n                                >\n                                    {square.showingResult && !square.hasBomb && square.getNumberOfNeighborsWithBombs() !== 0 && square.getNumberOfNeighborsWithBombs()}\n                                    {square.showingResult && square.hasBomb && <FaBomb />}\n                                    {square.hasFlag && <FiFlag />}\n                                </div>\n                            ))}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </section>\n    );\n}\n","import React from 'react';\n\nimport Minefield from \"./Minefield\";\n\nimport './App.scss';\n\nfunction App() {\n  return (\n    <section className=\"main-section\">\n      <Minefield />\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}